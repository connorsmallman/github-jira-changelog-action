{"version":3,"sources":["../../src/SourceControl.test.js"],"names":["source","SourceControl","testGitLogs","beforeEach","revision","parents","date","summary","fullText","authorName","authorEmail","describe","graph","combinedMessages","simpleTopLevelGraph","consolodateCommitMessages","test","revisions","map","i","expect","toEqual","find","merged","rev5","expectSummary","join","expectFull","log","isRevert","toBe","rev2b","l"],"mappings":"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","sourcesContent":["import SourceControl from './SourceControl';\nimport {getDefaultConfig} from './Config';\n\nconst source = new SourceControl(getDefaultConfig());\n\n/**\n * Test git log graph:\n *\n   *    1\n   *    2 ⟍\n   *    3   2a\n   *    4   2b\n   *    5 ⟋\n   *    6 ⟍\n   *    7   6a ⟍\n   *        6b   6a1\n   *             6a2\n   *    8   6c ⟋\n   *    9 ⟋\n   *    10\n */\nlet testGitLogs = [];\n\nbeforeEach(() => {\n  testGitLogs = [\n    {\n      revision: '10',\n      parents: '9',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 10', fullText: 'Full rev 10',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '9',\n      parents: '8 6c',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 9', fullText: 'Full rev 9',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '8',\n      parents: '7',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 8', fullText: 'Full rev 8',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '6c',\n      parents: '6b 6a2',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 6c', fullText: 'Full rev 6c',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '6b',\n      parents: '6a',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 6b', fullText: 'Full rev 6b',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '6a2',\n      parents: '6a1',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 6a2', fullText: 'Full rev 6a2',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '6a1',\n      parents: '6a',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 6a1', fullText: 'Full rev 6a1',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '6a',\n      parents: '6',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 6', fullText: 'Full rev 6',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '7',\n      parents: '6',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 7', fullText: 'Full rev 7',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '6',\n      parents: '5',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 6', fullText: 'Full rev 6',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '5',\n      parents: '4 2b',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 5', fullText: 'Full rev 5',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '2b',\n      parents: '2a',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 2b', fullText: 'Full rev 2b',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '2a',\n      parents: '2',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 2a', fullText: 'Full rev 2a',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '4',\n      parents: '3',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 4', fullText: 'Full rev 4',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '3',\n      parents: '2',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 3', fullText: 'Full rev 3',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '2',\n      parents: '1',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 2', fullText: 'Full rev 2',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n    {\n      revision: '1',\n      parents: '0',\n      date: '2020-01-23 15:52:51 -0800',\n      summary: 'rev 1', fullText: 'Full rev 1',\n      authorName: 'Za', authorEmail: 'Za@nowhere.com',\n    },\n  ];\n});\n\ndescribe('Build history graph', () => {\n  let graph;\n  let combinedMessages;\n\n  beforeEach(() => {\n    graph = source.simpleTopLevelGraph(testGitLogs);\n    combinedMessages = source.consolodateCommitMessages(graph);\n  });\n\n  test('Top-level logs should not contain merged revisions', () => {\n    const revisions = graph.map(i => i.revision);\n    expect(revisions).toEqual(['10', '9', '8', '7', '6', '5', '4', '3', '2', '1']);\n  });\n\n  test('Simple 1-level nested merged', () => {\n    // console.log(graph.find(i => i.revision === '2'));\n    const revisions = graph.find(i => i.revision === '5')\n      .graph.merged\n      .map(i => i.revision);\n    expect(revisions).toEqual(['2b', '2a']);\n  });\n\n  test('Simple multiple nested merges.', () => {\n    const revisions = graph.find(i => i.revision === '9')\n      .graph.merged\n      .map(i => i.revision);\n    expect(revisions).toEqual(['6c', '6b', '6a', '6a2', '6a1']);\n  });\n\n  test('Commit messages are combined from merged commits.', () => {\n    const rev5 = combinedMessages.find(i => i.revision === '5');\n    const expectSummary = ['rev 5'].join('\\n');\n    const expectFull = ['Full rev 5', 'Full rev 2b', 'Full rev 2a'].join('\\n');\n\n    expect(rev5.summary).toEqual(expectSummary);\n    expect(rev5.fullText).toEqual(expectFull);\n  });\n});\n\ndescribe('Decorate reverts', () => {\n  test('basic revert', () => {\n    const log = {\n      summary: 'Revert \"Foo bar commit\"',\n      fullText: 'Revert \"Foo bar commit\"\\nThis reverts commit b71e882870a04fa35b77031f06b1edbdb6acb21c.',\n    };\n    expect(source.isRevert(log)).toBe('b71e882870a04fa35b77031f06b1edbdb6acb21c');\n  });\n\n  test('false revert - i.e. a commit with merely \"revert\" in the text.', () => {\n    const log = {\n      summary: 'Code I wrote to revert old behavior.',\n      fullText: 'Code I wrote to revert old behavior. From commit b71e882870a04fa35b77031f06b1edbdb6acb21c.',\n    };\n    expect(source.isRevert(log)).toBe(null);\n  });\n\n  test('revert of a revert (unrevert)', () => {\n    const log = {\n      summary: 'Revert \"Revert \"Foo bar commit\"\"',\n      fullText: 'Revert \"Revert \"Foo bar commit\"\"\\nThis reverts commit b71e882870a04fa35b77031f06b1edbdb6acb21c.',\n    };\n    expect(source.isRevert(log)).toBe(null);\n  });\n\n  test('odd number of reverts (re-revert)', () => {\n    const log = {\n      summary: 'Revert \"Revert \"Revert \"Foo bar commit\"\"',\n      fullText: 'Revert \"Revert \"Revert \"Foo bar commit\"\"\\nThis reverts commit b71e882870a04fa35b77031f06b1edbdb6acb21c.',\n    };\n    expect(source.isRevert(log)).toBe('b71e882870a04fa35b77031f06b1edbdb6acb21c');\n  });\n\n  test('Commit messages are not combined from reverted commits.', () => {\n    // Mark commit as reverted\n    const rev2b = testGitLogs.find(l => l.revision == '2b');\n    rev2b.summary = 'Revert \"Foo bar commit\"'\n    rev2b.fullText = 'Revert \"Foo bar commit\"\\nThis reverts commit b71e882870a04fa35b77031f06b1edbdb6acb21c.';\n\n    // Generate combined commit messages\n    const graph = source.simpleTopLevelGraph(testGitLogs);\n    const combinedMessages = source.consolodateCommitMessages(graph);\n\n    // Rev 2b should not be inlcuded\n    const rev5 = combinedMessages.find(i => i.revision === '5');\n    const expectSummary = ['rev 5'].join('\\n');\n    const expectFull = ['Full rev 5', 'Full rev 2a'].join('\\n');\n    expect(rev5.summary).toEqual(expectSummary);\n    expect(rev5.fullText).toEqual(expectFull);\n  });\n});\n"],"file":"SourceControl.test.js"}